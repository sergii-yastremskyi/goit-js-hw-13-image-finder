{"version":3,"sources":["index.js"],"names":["refs","input","document","querySelector","form","loadMO","gallery","createCardElement","iconName","data","container","element","createElement","className","innerElement","textContent","innerHTML","appendChild","GalleryApp","constructor","pageNumber","searchValue","setSearchValue","val","classList","add","fetchItems","remove","fetch","then","res","json","renderGallery","hits","catch","error","console","log","increasePagenumber","renderCard","itemdata","image","src","webformatURL","innercontainer","likes","views","comments","downloads","setTimeout","scrollIntoView","behavior","block","itemsarray","map","item","myGallery","addEventListener","e","preventDefault","value"],"mappings":";;;AAqGA,aArGA,QAAA,oBAEA,MAAMA,EAAO,CACTC,MAAOC,SAASC,cAAc,mCAC9BC,KAAMF,SAASC,cAAc,gBAC7BE,OAAQH,SAASC,cAAc,eAC/BG,QAASJ,SAASC,cAAc,aAG7BI,EAAoB,CAACC,EAASC,EAAKC,KAC/BC,MAAAA,EAAUT,SAASU,cAAc,KACvCD,EAAQE,UAAY,aACPC,MAAAA,EAAeZ,SAASU,cAAc,KAC5CE,EAAaC,YAAcP,EAC3BM,EAAaD,UAAY,iBACzBF,EAAQK,UAAYP,EACpBE,EAAQM,YAAYH,GACpBJ,EAAUO,YAAYN,IAIlC,MAAMO,EACFC,cACSC,KAAAA,WAAa,EACbC,KAAAA,YAAc,GAIvBC,eAAeC,GAENF,KAAAA,YAAcE,EACdH,KAAAA,WAAa,EACN,KAARG,GACAvB,EAAKM,QAAQU,UAAY,GACzBhB,EAAKK,OAAOmB,UAAUC,IAAI,YAGrBC,KAAAA,aACL1B,EAAKK,OAAOmB,UAAUG,OAAO,WAIrCD,aACIE,4EAA4E,KAAKP,oBAAoB,KAAKD,iEACrGS,KAAKC,GAAOA,EAAIC,QAChBF,KAAKpB,IAEGuB,KAAAA,cAAcvB,EAAKwB,QAE3BC,MAAMC,GAASC,QAAQC,IAAIF,IAGpCG,qBACSlB,KAAAA,aACAM,KAAAA,aAETa,WAAWC,GACD9B,MAAAA,EAAYR,SAASU,cAAc,OAGzCF,EAAUG,UAAY,aAChB4B,MAAAA,EAAQvC,SAASU,cAAc,OACrC6B,EAAMC,IAAMF,EAASG,aACrBjC,EAAUO,YAAYwB,GAChBG,MAAAA,EAAiB1C,SAASU,cAAc,OAC9CgC,EAAe/B,UAAY,QAC3BN,EAAkB,WAAWiC,EAASK,MAAMD,GAC5CrC,EAAkB,aAAaiC,EAASM,MAAMF,GAC9CrC,EAAkB,WAAWiC,EAASO,SAASH,GAC/CrC,EAAkB,iBAAkBiC,EAASQ,UAAWJ,GACxDR,QAAQC,IAAI3B,GACZA,EAAUO,YAAY2B,GACtB5C,EAAKM,QAAQW,YAAYP,GAEzBuC,WAAW,KACPjD,EAAKK,OAAO6C,eAAe,CACvBC,SAAU,SACVC,MAAO,SAEZ,KAGPpB,cAAcqB,GACVA,EAAWC,IAAIC,GAAQ,KAAKhB,WAAWgB,IAEvCN,WAAW,KAASjD,EAAKK,OAAO6C,eAAe,CAC7CC,SAAU,SACRC,MAAO,SAET,MAKV,MAAMI,EAAY,IAAItC,EAEtBlB,EAAKI,KAAKqD,iBAAiB,SAAWC,IAClCA,EAAEC,iBACFH,EAAUlC,eAAetB,EAAKC,MAAM2D,SAGxC5D,EAAKK,OAAOoD,iBAAiB,QAAUC,IACnCA,EAAEC,iBACFH,EAAUlB","file":"src.dcda0567.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nconst refs = {\n    input: document.querySelector(\"#search-form > input[type=text]\"),\n    form: document.querySelector(\"#search-form\"),\n    loadMO: document.querySelector(\"#pagination\"),\n    gallery: document.querySelector('.gallery')\n}\n\n const createCardElement = (iconName,data,container)=>{\n     const element = document.createElement('P');\n     element.className = 'stats-item';\n            const innerElement = document.createElement('I');\n            innerElement.textContent = iconName;\n            innerElement.className = 'material-icons';\n            element.innerHTML = data;\n            element.appendChild(innerElement);\n            container.appendChild(element);\n        }\n\n\nclass GalleryApp {\n    constructor() {\n        this.pageNumber = 1;\n        this.searchValue = '';\n       \n    }\n  \n    setSearchValue(val) {\n        \n        this.searchValue = val;\n        this.pageNumber = 1;\n        if (val === '') {\n            refs.gallery.innerHTML = '';\n            refs.loadMO.classList.add('hidden');\n        }\n        else {\n            this.fetchItems();\n            refs.loadMO.classList.remove('hidden');\n        }\n             \n    }\n    fetchItems() {\n        fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchValue}&page=${this.pageNumber}&per_page=12&key=22553611-d17142b90db34a0c793ad1fbe`)\n            .then(res => res.json())\n            .then(data => {\n                \n                this.renderGallery(data.hits);\n            })\n            .catch(error => console.log(error));\n        \n    }\n    increasePagenumber() {\n        this.pageNumber++;\n        this.fetchItems();\n    }\n    renderCard(itemdata) {\n        const container = document.createElement('DIV');\n       \n        \n        container.className = 'photo-card';\n        const image = document.createElement('IMG');\n        image.src = itemdata.webformatURL;\n        container.appendChild(image);\n        const innercontainer = document.createElement('DIV');\n        innercontainer.className = 'stats';\n        createCardElement('thumb_up',itemdata.likes,innercontainer);\n        createCardElement('visibility',itemdata.views,innercontainer);\n        createCardElement('comments',itemdata.comments,innercontainer);\n        createCardElement('cloud_download', itemdata.downloads, innercontainer);\n        console.log(container);\n        container.appendChild(innercontainer);\n        refs.gallery.appendChild(container);\n\n        setTimeout(() => {\n            refs.loadMO.scrollIntoView({\n                behavior: 'smooth',\n                block: 'end',\n            })\n        }, 500);\n        \n    }\n    renderGallery(itemsarray) {\n        itemsarray.map(item => this.renderCard(item));\n       \n        setTimeout(() => {  refs.loadMO.scrollIntoView({\n          behavior: 'smooth',\n            block: 'end',\n        })\n        },500)\n    }\n\n}\n\nconst myGallery = new GalleryApp();\n\nrefs.form.addEventListener('submit', (e) => {\n    e.preventDefault();\n    myGallery.setSearchValue(refs.input.value);\n});\n\nrefs.loadMO.addEventListener('click', (e) => {\n    e.preventDefault();\n    myGallery.increasePagenumber();\n});\n\n\n"]}